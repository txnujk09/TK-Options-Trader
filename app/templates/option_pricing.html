<div class="container mt-5 text-center">
    <h2>Option Pricing Calculator</h2>
    <label for="S">Stock Price (S)</label>
    <input type="number" id="S" class="form-control" placeholder="Enter stock price">

    <label for="K">Strike Price (K)</label>
    <input type="number" id="K" class="form-control" placeholder="Enter strike price">

    <label for="T">Time to Expiry (Years)</label>
    <input type="number" id="T" class="form-control" placeholder="Enter time to expiry">

    <label for="r">Risk-Free Rate (r)</label>
    <input type="number" id="r" class="form-control" placeholder="Enter risk-free rate">

    <label for="sigma">Volatility (Ïƒ)</label>
    <input type="number" id="sigma" class="form-control" placeholder="Enter volatility">

    <label for="option_type">Option Type</label>
    <select id="option_type" class="form-control">
        <option value="call">Call</option>
        <option value="put">Put</option>
    </select>

    <button class="btn btn-primary mt-3" onclick="calculateOptionPrice()">Calculate</button>

    <h3 class="mt-3">Result: <span id="optionResult"></span></h3>
</div>
<script>
    function calculateOptionPrice() {
        let data = {
            S: document.getElementById("S").value,
            K: document.getElementById("K").value,
            T: document.getElementById("T").value,
            r: document.getElementById("r").value,
            sigma: document.getElementById("sigma").value,
            option_type: document.getElementById("option_type").value
        };

        fetch("/option_price_calculate", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            if (data.option_price) {
                document.getElementById("optionResult").innerText = `Option Price: ${data.option_price.toFixed(2)}`;
            } else {
                document.getElementById("optionResult").innerText = `Error: ${data.error}`;
            }
        })
        .catch(error => {
            document.getElementById("optionResult").innerText = `Error: ${error}`;
        });
    }
</script>